import{aG as f,r as N,aS as a,bb as j,ba as m,be as I,b9 as P,bg as z,dp as F,dq as O,dr as E,ci as A,db as W,d6 as R,ds as U,bu as b,aT as w,c1 as V,bc as L,cf as $,dc as q,aU as H,dd as J,bH as K,bj as Q,dt as X}from"./vendor.5ff35c24.js";import{a as S}from"./vendor_axios.5abceb0c.js";import{C as Y,S as Z,D as aa}from"./collapseData.f4c3ef91.js";import{b as M,L as ta,S as ea}from"./index.cb0640cd.js";import{P as ra,L as sa,F as C,E as na,S as oa,a as ia,C as la,T as ca}from"./vendor_devextreme.61fe39fc.js";import"./vendor_core_js_pure.7f605738.js";import"./vendor_mui_datatables.34fc80b0.js";import"./vendor_lodash.dde4158d.js";import"./vendor_react_epic_spinners.792a5510.js";import"./vendor_react_slick.468a9aef.js";import"./vendor_react_easy_edit.886afc3d.js";import"./vendor_react_player.223b9460.js";const da="https://join.navgurukul.org/api/",T=({url:t})=>{const[i,u]=f.useState({data:null,partnerId:window.location.pathname.split("/")[2]});N.exports.useEffect(()=>{S.get(`${da}${t}`).then(e=>{const l=e.data.map(r=>({name:M[r.name],value:r.value,studentNames:r.studentNames,percentage:r.percentage}));u({...i,data:l})})},[]);const n=e=>`${e.valueText} ${e.argument} (${(e.percent*100).toFixed(2)}%)`,g=e=>{const l=i.data,{studentNames:r}=l.find(s=>s.name===e.argument);return{text:r.sort().map(s=>`${s}`)}};if(i.data){const e=i.data;return a(j,{style:{height:"800px"},children:m(ra,{resolveLabelOverlapping:"shift",id:"pie",type:"doughnut",palette:"Bright",dataSource:e,title:"Progress Made Graph",style:{height:"750px"},children:[a(sa,{orientation:"horizontal",itemTextPosition:"right",horizontalAlignment:"center",verticalAlignment:"bottom",columnCount:4,style:{},children:a(C,{size:16})}),a(na,{enabled:!0}),a(oa,{argumentField:"name",valueField:"value",children:m(ia,{visible:!0,position:"columns",customizeText:n,children:[a(C,{size:15}),a(la,{visible:!0,width:.5})]})}),a(ca,{enabled:!0,customizeTooltip:g})]})})}return a(I,{m:2,pt:3,children:a(ta,{})})};var pa="/assets/whatsapp.74cf84f3.png";const ma=P(t=>({root:{maxWidth:400,borderRadius:10,padding:10},image:{width:60,height:60,marginTop:10},large:{width:t.spacing(7),height:t.spacing(7),marginLeft:10,color:t.palette.getContrastText($[500]),backgroundColor:$[500]},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})},expandOpen:{transform:"rotate(0deg)",transition:"all .5s ease",webkitTransition:"all .5s ease",mozTransition:"all .5s ease"},container:{display:"flex",alignItems:"center",flexDirection:"column",marginTop:2}})),ua=({title:t,detailsData:i,index:u,message:n})=>{const{enqueueSnackbar:g}=z(),e=ma(),l=f.useMemo(()=>[{icon:a(F,{className:e.image})},{icon:a(O,{className:e.image})},{icon:a(E,{className:e.image})},{icon:a(A,{className:e.image})}],[]),r=s=>a(q.CopyToClipboard,{text:s,onCopy:()=>{g("Message copied!",{variant:"success"})},children:a(w,{title:"Copy Details",style:{background:"#f05f40"},className:e.large,children:a(H,{children:a(J,{sx:{color:"white"}})})})});return a(W,{className:e.root,children:m(R,{children:[m("div",{style:{marginBottom:50},children:[U?m(b,{container:!0,direction:"row",justify:"flex-end",alignItems:"center",children:[r(n),a("br",{}),a(w,{title:"Share Details on WhatsApp",children:a("a",{href:`https://api.whatsapp.com/send?text=${n}`,"data-action":"share/whatsapp/share",children:a(V,{className:e.large,alt:"Remy Sharp",src:pa,children:" "})})})]}):a(b,{container:!0,direction:"row",justify:"flex-end",alignItems:"center",children:r(n)}),a("br",{}),a("center",{children:l[u].icon}),a("br",{}),a("center",{children:a(L,{variant:"h5",children:t})})]}),Object.entries(i).map(([s,c])=>a("div",{children:a(Y,{classes:e,details:c,stage:s})},`${s}${Math.random()}`))]})})},D="https://join.navgurukul.org/api/",ga=P(t=>({root:{maxWidth:400,borderRadius:10,padding:10},image:{width:60,height:60,marginTop:10},large:{width:t.spacing(7),height:t.spacing(7),marginLeft:10,color:t.palette.getContrastText($[500]),backgroundColor:$[500]},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})},expandOpen:{transform:"rotate(0deg)",transition:"all .5s ease",webkitTransition:"all .5s ease",mozTransition:"all .5s ease"},container:{display:"flex",alignItems:"center",flexDirection:"column",marginTop:2}})),Na=()=>{const{partnerId:t}=K(),i=ga(),[u,n]=f.useState(3),[g,e]=f.useState(""),[l,r]=f.useState({}),s=d=>{Object.entries(d).forEach(([p,x])=>{let o=`*${p}*

`;Object.entries(x).forEach(([h,y])=>{y.length>0&&(o=`${o}
_${M[h]} (${y.length})_
`,y.forEach(v=>{o=`${o}${v.name}: ${v.mobile}
`}))}),o=`${o}
For more information visit
http://admissions.navgurukul.org/partner/${t}`,r(h=>({...h,[p]:{detailsData:x,message:o}}))})},c=location.pathname.split("/")[2]==="group"?"partnerGroup":"partners";N.exports.useEffect(()=>{S.get(`${D}${c}/${t}${c==="partnerGroup"?"/name":""}`).then(d=>{var p;return e(((p=d.data.data[0])==null?void 0:p.name)||d.data.data.name)}),S.get(`${D}${c}/progress_made/${t}`).then(d=>s(d.data.data))},[]);const _=()=>n(2),G=()=>n(1),k=()=>n(3),B=d=>{switch(d){case 1:return a(aa,{displayData:ea.columns.partnerData,url:`${c}/${t}/students`});case 2:return a(b,{maxWidth:"xl",container:!0,spacing:3,direction:"row",justify:"flex-start",alignItems:"flex-start",style:{marginTop:10,justifyContent:"center"},children:Object.entries(l).map(([p,{detailsData:x,message:o}],h)=>a(b,{item:!0,xs:12,sm:6,md:3,children:a(ua,{title:p,detailsData:x,index:h,message:o})},p))});case 3:return a(T,{url:`${c}/graph/progress_made/${t}`});default:return a(T,{url:`${c}/graph/progress_made/${t}`})}};return m(Q,{children:[a(X,{}),m(j,{className:i.container,maxWidth:"xl",children:[a(b,{item:!0,xs:12,style:{marginBottom:12},children:m(L,{variant:"h4",children:[" Hello ",g]})}),a("div",{className:"modified-select-ui",children:a(Z,{progressMade:{label:"Progress Made",action:_},studentData:{label:"Student Data",action:G},showGraphData:{label:"Graph Data",action:k},selected:u===1?"studentData":u===2?"progressMade":"showGraphData"})}),B(u)]})]})};export{Na as default};
