import{a as x}from"./vendor_axios.5abceb0c.js";import{ca as C,bg as $,bh as N,bi as k,aG as i,ba as s,bb as D,aS as t,bc as w,bv as F,by as W,bz as j,bA as p,bs as h,bF as A,br as b}from"./vendor.5ff35c24.js";import{H as B}from"./vendor_react_epic_spinners.792a5510.js";import{c as n}from"./index.cb0640cd.js";import"./vendor_core_js_pure.7f605738.js";import"./vendor_mui_datatables.34fc80b0.js";import"./vendor_lodash.dde4158d.js";import"./vendor_react_slick.468a9aef.js";import"./vendor_react_easy_edit.886afc3d.js";import"./vendor_react_player.223b9460.js";const E="https://join.navgurukul.org/api/",U=()=>{const g=C(),{enqueueSnackbar:o}=$(),{isFetching:v}=N(a=>a.ui),l=k(),[e,c]=i.useState("SelectRP"),[r,m]=i.useState(""),[d,u]=i.useState("");i.useEffect(()=>l(n(!1)),[]);const f=a=>a==="Role"?"roles":"privilege",P=a=>c(a.target.value),R=a=>m(a.target.value),S=a=>u(a.target.value),y=async()=>{if(window.confirm(`Create ${e} by Name ${r}?`))try{l(n(!0)),await x.post(`${E}role/create${e}`,{[f(e)]:r,description:d}),o(`${e} created by name ${r}`,{variant:"success"}),l(n(!1)),c("SelectRP"),m(""),u("")}catch(a){o(`Error while creating ${e}`,{variant:"error"}),console.error(a),l(n(!1))}};return s(D,{sx:{py:"1rem"},maxWidth:"md",children:[t(w,{sx:{mb:"2.4rem"},variant:"h4",children:"Enter New Role/Privilege Details"}),s(F,{fullWidth:!0,sx:{my:"0.4rem"},children:[t(W,{children:"Select Role/Privilege"}),s(j,{fullWidth:!0,label:"Select Role/Privilege",placeholder:"Select Role/Privilege",name:"select-rp",value:e,onChange:P,children:[t(p,{disabled:!0,value:"SelectRP",children:"Select an Option"}),["Role","Privilege"].map(a=>t(p,{value:a,children:a},a))]})]}),t(h,{fullWidth:!0,name:`${e} name`,label:`${e} Name`,placeholder:`${e} Name`,value:r,onChange:R,disabled:e==="selectrp",sx:{my:"0.4rem"}}),t(h,{fullWidth:!0,name:`${e} desc`,label:`${e} Description`,placeholder:`A little description for ${e}`,value:d,onChange:S,disabled:e==="selectrp",sx:{my:"0.8rem"}}),s(A,{sx:{my:"0.8rem",px:"0.4rem",display:"flex",justifyContent:"flex-end",gap:"0.6rem"},children:[t(b,{variant:"contained",color:"primary",onClick:y,disabled:e==="SelectRP"||r==="",children:v?t(B,{size:24}):`Create ${e}`}),t(b,{variant:"outlined",color:"primary",onClick:()=>g(-1),children:"Go Back"})]})]})};export{U as default};
